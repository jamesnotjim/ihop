<DOCTYPE html>
<html>
	<head>
		<title></title>
		<style type="text/css">
			.fadeIn {
				animation-name: fadeIn;
				animation-duration: 4s;
			}
			@keyframes fadeIn {
				0% {opacity: 0;}
				100% {opacity: 1;}
			}
		</style>
	</head>
	<body>
		<div id="theOutput" class="fadeIn">&hellip;</div>
		<button id="newHouse" class="fadeIn">Randomize</button>
		<div id="theURL" class="fadeIn">&nbsp;</div>

		<script type="text/javascript">

			/* Replaces element contents with a randomized string */
			function buildNewHouse() {
				/* Create the items array */
				var items = ['Pancakes&reg;', 'Potatoes', 'Petunias', 'Pickles', 'Pomegranates', 'Poltergeists', 
								'Pedants', 'Peanuts', 'Practical Jokers', 'Party Hats', 'Plumes', 'Perfumes', 
								'Planks', 'Plectra', 'Poppycock', 'Popinjays', 'Parallax Effects', 'Procrastination', 
								'Pomodoro Timers', 'Pterodactyls', 'Phish', 'Porgs', 'Pentagrams', 'Pentagons', 
								'Pork', 'Pendulums', 'Pizza', 'Puzzles', 'Pickaxes', 'Plural Nouns', 'Pigs', 'Pajamas', 
								'Pranks', 'Pumpkins', 'Prognostication', 'Predictions', 'Prongs', 'Plaques', 'Pique', 
								'Pretzels', 'Phlegm', 'Pomeranians'];

				/* Store the query parameter, if any */
				var queryParameter = getQueryVariable("p");
				console.log('queryParameter = ' + queryParameter);

				if (queryParameter == undefined) {
					console.log('queryParameter = ' + queryParameter);
				} else if (queryParameter) {
					/* Pull the item matching the parameter */
					var item = items[queryParameter]; 
					console.log('items[' + queryParameter + '] = ' + item);
				} else {
					/* Pull an item at random */
					var randomIndex = Math.floor(Math.random()*items.length)
					var item = items[randomIndex];
					console.log('items[' + randomIndex + '] = ' + item);
				}
				/* Write the item to the screen */
				var element = document.getElementById("theOutput");
				element.innerHTML = "International House Of " + item;
			}

			/* Listen for button clicks */
			var el = document.getElementById('newHouse'); 
			if (el.addEventListener) {
	    		el.addEventListener("click", buildNewHouse, false);
			} else if (el.attachEvent) {
	   			 el.attachEvent('onclick', buildNewHouse);
	   		}

	   		/* Reads query parameters */
	   		/* Usage: getQueryVariable("item") */
	   		/* Thanks: https://css-tricks.com/snippets/javascript/get-url-variables/ */
	   		function getQueryVariable(variable) {
		       var query = window.location.search.substring(1);
		       var vars = query.split("&");
		       for (var i=0;i<vars.length;i++) {
		               var pair = vars[i].split("=");
		               if(pair[0] == variable){return pair[1];}
		    	}
       		return(false);
			}
		</script>
	</body>
</html>
